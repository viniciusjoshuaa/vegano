<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Card√°pio - Mandir</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="navbar">
  <div class="navbar-container">
    <div class="logo">ü•ï Mandir</div>
    <ul class="menu">
      <li><a href="index.html">In√≠cio</a></li>
      <li><a href="cardapio.html">Card√°pio</a></li>
      <li><a href="historia.html">Hist√≥ria</a></li>
      <li><a href="planos.html">Nossos Planos</a></li>
      <li><a href="carrinho.html">Carrinho</a></li>
    </ul>
    <div class="login-link">
      <a href="login.html">Login</a>
    </div>
  </div>
</nav>

<div class="container">
  <h1 class="titulo">Nosso Card√°pio üå±</h1>
  <div class="cardapio-container" id="cardapio"></div>
</div>

<div class="overlay" id="overlay"></div>

<div class="prato-modal" id="modal">
  <span class="modal-close" onclick="fecharModal()">‚úñ</span>
  <div id="modal-content"></div>
</div>

<script>
const container = document.getElementById("cardapio");
const dishes = JSON.parse(localStorage.getItem("dishes")) || [];

function renderCardapio(){
  container.innerHTML = "";
  dishes.forEach(prato => {
    const card = document.createElement("div");
    card.className = "prato-card";
    card.innerHTML = `
      <div class="prato-img" style="background-image:url('${prato.image || "https://via.placeholder.com/300"}')"></div>
      <div class="prato-content">
        <h3>${prato.name}</h3>
        <p>${prato.description}</p>
        <strong>R$ ${Number(prato.price).toFixed(2)}</strong>
      </div>
    `;
    card.onclick = () => abrirModal(prato);
    container.appendChild(card);
  });
}

function abrirModal(prato){
  document.getElementById("modal-content").innerHTML = `
    <div class="modal-img" style="background-image:url('${prato.image || "https://via.placeholder.com/400"}')"></div>
    <h2>${prato.name}</h2>
    <p><strong>Descri√ß√£o:</strong> ${prato.description}</p>
    <p><strong>Ingredientes:</strong> ${prato.ingredients}</p>
    <p><strong>Alerg√™nicos:</strong> ${prato.allergens}</p>
    <p><strong>Pre√ßo:</strong> R$ ${Number(prato.price).toFixed(2)}</p>
  `;
  document.getElementById("overlay").style.display = "block";
  document.getElementById("modal").classList.add("open");
}

function fecharModal(){
  document.getElementById("overlay").style.display = "none";
  document.getElementById("modal").classList.remove("open");
}

renderCardapio();
</script>

</body>
</html>